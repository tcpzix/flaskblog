{% extends 'layout.html' %}

{% block body %}
<div class="content-section">
  <div class="media">
    <img class="rounded-circle account-img" src="{{ image_file }}">
    <div class="media-body">
      <h2 class="account-heading">{{ current_user.username }}</h2>
      <p class="text-secondary">{{ current_user.email }}}</p>
    </div>
  </div>
  <!-- todo: check enctype option in form tag -->
     <form method="POST" enctype='multipart/form-data'>
       {{ form.hidden_tag() }}
       <p>
           {{ form.username.label }}<br>
           {{ form.username }}<br>
           {% for error in form.username.errors %}
                <span style="color:red;">{{ error }}</span>
            {% endfor %}
       </p>
       <p>
           {{ form.email.label }}<br>
           {{ form.email }}<br>
           {% for error in form.email.errors %}
                <span style="color:red;">{{ error }}</span>
            {% endfor %}
       </p>
       <p>
       		{{ form.picture.label }}
       		{{ form.picture }}
       		<!-- {% if form.picture.errors %} -->
       			{% for error in form.picture.errors %}
       				<span style="color:red;">{{ error }}</span>
       			{% endfor %}
       		<!-- {% endif %} -->
       </p>
       <p>{{ form.submit() }}</p>
   </form>
</div>
{% endblock %}